function a0_0x416c(){const _0x5408ed=['socks','client','156190rRhomr','&security=tls&sni=','includes','130864XOKDml','no-store','60331RKispH','userID','4LlWBGG','144yybHNO','h2,http/1.1','24CbhAYf','6xVVIgH','431331lbZjmq','replace','330rOKqcM','2053207QHXqiL','14GLUHVq','http','forEach','&encryption=none&host=','&type=ws','Trojan','2527255CyVBei','VLESS','&host=','trojanPassword','4347448cfmrZb','startsWith','hostName','dmxlc3M6Ly8=','singbox','length','&fp=randomized&alpn=','match','&eh=Sec-WebSocket-Protocol&ed=2560'];a0_0x416c=function(){return _0x5408ed;};return a0_0x416c();}(function(_0x12b85f,_0x3f2eed){const _0x3d153a=a0_0x2e7a,_0x2410e5=_0x12b85f();while(!![]){try{const _0x66629b=parseInt(_0x3d153a(0x1a8))/0x1*(-parseInt(_0x3d153a(0x1b3))/0x2)+-parseInt(_0x3d153a(0x1af))/0x3*(-parseInt(_0x3d153a(0x1aa))/0x4)+-parseInt(_0x3d153a(0x1b9))/0x5*(parseInt(_0x3d153a(0x1ae))/0x6)+parseInt(_0x3d153a(0x1bd))/0x7+parseInt(_0x3d153a(0x1a6))/0x8*(-parseInt(_0x3d153a(0x1ab))/0x9)+-parseInt(_0x3d153a(0x1a3))/0xa*(-parseInt(_0x3d153a(0x1b1))/0xb)+parseInt(_0x3d153a(0x1ad))/0xc*(parseInt(_0x3d153a(0x1b2))/0xd);if(_0x66629b===_0x3f2eed)break;else _0x2410e5['push'](_0x2410e5['shift']());}catch(_0x52cce6){_0x2410e5['push'](_0x2410e5['shift']());}}}(a0_0x416c,0x57d71));import{getConfigAddresses,generateRemark,randomUpperCase,getRandomPath}from'./helpers';function a0_0x2e7a(_0x5387bd,_0x23a130){const _0x416c02=a0_0x416c();return a0_0x2e7a=function(_0x2e7a4f,_0x186828){_0x2e7a4f=_0x2e7a4f-0x19e;let _0x3f5eca=_0x416c02[_0x2e7a4f];return _0x3f5eca;},a0_0x2e7a(_0x5387bd,_0x23a130);}import{getDataset}from'../kv/handlers';export async function getNormalConfigs(_0x4f5ffb,_0x14b827){const _0x3a04a4=a0_0x2e7a,{proxySettings:_0xdea0c8}=await getDataset(_0x4f5ffb,_0x14b827),{cleanIPs:_0x52c6a7,proxyIP:_0x4d993d,ports:_0x8bb8cb,vlessConfigs:_0x589491,trojanConfigs:_0x1a8574,outProxy:_0x2801fa,customCdnAddrs:_0x463bc5,customCdnHost:_0x546f3a,customCdnSni:_0x3b2255,enableIPv6:_0x3b3c02}=_0xdea0c8;let _0x1768f7='',_0x18c227='',_0xe0b91e='',_0x582df0=0x1;const _0x34a969=await getConfigAddresses(_0x52c6a7,_0x3b3c02),_0x2ad5e9=_0x463bc5?_0x463bc5['split'](','):[],_0x39818b=[..._0x34a969,..._0x2ad5e9],_0x4ec803=globalThis[_0x3a04a4(0x1a2)]===_0x3a04a4(0x1c1)?'http/1.1':_0x3a04a4(0x1ac),_0x340675=encodeURIComponent(globalThis[_0x3a04a4(0x1bc)]),_0x27ea85=globalThis['client']===_0x3a04a4(0x1c1)?_0x3a04a4(0x1a0):encodeURIComponent('?ed=2560');_0x8bb8cb[_0x3a04a4(0x1b5)](_0x41feab=>{const _0x5ee02e=_0x3a04a4;_0x39818b[_0x5ee02e(0x1b5)]((_0x4a8c3c,_0x38504b)=>{const _0x251bd0=_0x5ee02e,_0xdd7dfa=_0x38504b>_0x34a969[_0x251bd0(0x1c2)]-0x1,_0x5b4e87=_0xdd7dfa?'C':'',_0x15ea0a=_0xdd7dfa?_0x3b2255:randomUpperCase(globalThis[_0x251bd0(0x1bf)]),_0x28dadd=_0xdd7dfa?_0x546f3a:globalThis[_0x251bd0(0x1bf)],_0x4e0978=''+getRandomPath(0x10)+(_0x4d993d?'/'+encodeURIComponent(btoa(_0x4d993d)):'')+_0x27ea85,_0x1692fb=encodeURIComponent(generateRemark(_0x582df0,_0x41feab,_0x4a8c3c,_0x52c6a7,_0x251bd0(0x1ba),_0x5b4e87)),_0x18dd1b=encodeURIComponent(generateRemark(_0x582df0,_0x41feab,_0x4a8c3c,_0x52c6a7,_0x251bd0(0x1b8),_0x5b4e87)),_0x47db9d=globalThis['defaultHttpsPorts'][_0x251bd0(0x1a5)](_0x41feab)?_0x251bd0(0x1a4)+_0x15ea0a+_0x251bd0(0x19e)+_0x4ec803:'&security=none';_0x589491&&(_0x1768f7+=''+atob(_0x251bd0(0x1c0))+globalThis[_0x251bd0(0x1a9)]+'@'+_0x4a8c3c+':'+_0x41feab+'?path=/'+_0x4e0978+_0x251bd0(0x1b6)+_0x28dadd+_0x251bd0(0x1b7)+_0x47db9d+'#'+_0x1692fb+'\x0a'),_0x1a8574&&(_0x18c227+=''+atob('dHJvamFuOi8v')+_0x340675+'@'+_0x4a8c3c+':'+_0x41feab+'?path=/tr'+_0x4e0978+_0x251bd0(0x1bb)+_0x28dadd+_0x251bd0(0x1b7)+_0x47db9d+'#'+_0x18dd1b+'\x0a'),_0x582df0++;});});if(_0x2801fa){let _0x34ef23='#'+encodeURIComponent('ðŸ’¦\x20Chain\x20proxy\x20ðŸ”—');if(_0x2801fa[_0x3a04a4(0x1be)](_0x3a04a4(0x1a1))||_0x2801fa[_0x3a04a4(0x1be)](_0x3a04a4(0x1b4))){const _0x5a4dde=/^(?:socks|http):\/\/([^@]+)@/,_0x206467=_0x2801fa[_0x3a04a4(0x19f)](_0x5a4dde),_0x4446bb=_0x206467?_0x206467[0x1]:![];_0xe0b91e=_0x4446bb?_0x2801fa[_0x3a04a4(0x1b0)](_0x4446bb,btoa(_0x4446bb))+_0x34ef23:_0x2801fa+_0x34ef23;}else _0xe0b91e=_0x2801fa['split']('#')[0x0]+_0x34ef23;}const _0x3d35ee=btoa(_0x1768f7+_0x18c227+_0xe0b91e);return new Response(_0x3d35ee,{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8','Cache-Control':'no-store,\x20no-cache,\x20must-revalidate,\x20proxy-revalidate','CDN-Cache-Control':_0x3a04a4(0x1a7)}});}